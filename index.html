<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Akash TestBook</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"> </head>
<body>
    <header>
        <h1>Akash TestBook</h1>
        <div id="auth-status" style="margin-left: auto; display: flex; align-items: center; gap: 15px; margin-right: 20px;">
          <img id="user-profile-pic" src="https://via.placeholder.com/40/CCCCCC/FFFFFF?text=P" alt="Profile" style="width: 40px; height: 40px; border-radius: 50%; cursor: pointer; display: none;">
          <span id="user-display" style="color: white;">Guest</span>
          <button id="auth-button" class="header-auth-btn">Login</button>
        </div>
    </header>
    <main>
        <h2>Available Test Series</h2>
        <div id="test-units-container">
            <p>Test Series is loading...</p>
        </div>

        <div id="login-prompt" style="display: none; margin-top: 30px; padding: 20px; background-color: #ffeeba; border: 1px solid #ffda6a; border-radius: 8px; text-align: center; color: #856404;">
            <h3>Welcome to Akash TestBook!</h3>
            <p>To access all features and save your progress, please <a href="#" id="prompt-login-link">Login</a> or <a href="#" id="prompt-signup-link">Sign Up</a>.</p>
        </div>

        <hr style="margin: 40px 0; border-color: #dee2e6;">

        <h2 id="my-library-heading" style="display: none;">My Library</h2>
        <div id="my-library-container" style="display: none;">
            <p>You haven't purchased any test series yet. Enter a referral code below!</p>
            <div class="referral-code-section">
                <input type="text" id="referral-code-input" placeholder="Enter referral code">
                <button id="apply-referral-btn" class="sidebar-btn">Apply Code</button>
                <p id="referral-message" style="margin-top: 10px;"></p>
            </div>
            <div id="purchased-tests-container"></div>
        </div>

    </main>

    <div id="auth-modal" class="modal">
        <div class="modal-content">
            <span class="close-button" data-modal="auth-modal">&times;</span>
            <h2 id="auth-modal-title">Login</h2>
            <form id="auth-form">
                <input type="email" id="auth-email" placeholder="Email" required>
                <input type="password" id="auth-password" placeholder="Password" required>
                <button type="submit" id="auth-submit-btn">Login</button>
            </form>
            <button id="google-signin-btn" class="google-btn"><i class="fab fa-google"></i> Sign in with Google</button>
            <p class="auth-toggle-text">
                Don't have an account? <a href="#" id="toggle-signup">Sign Up</a>
            </p>
            <p class="auth-toggle-text">
                Already have an account? <a href="#" id="toggle-login" style="display: none;">Login</a>
            </p>
        </div>
    </div>

    <div id="profile-modal" class="modal">
        <div class="modal-content">
            <span class="close-button" data-modal="profile-modal">&times;</span>
            <h2>My Profile</h2>
            <div id="profile-details">
                <img id="profile-pic-modal" src="https://via.placeholder.com/80/CCCCCC/FFFFFF?text=P" alt="Profile" style="width: 80px; height: 80px; border-radius: 50%; margin-bottom: 15px;">
                <p><strong>Name:</strong> <span id="profile-name"></span></p>
                <p><strong>Email:</strong> <span id="profile-email"></span></p>
                <p><strong>User ID:</strong> <span id="profile-uid"></span></p>
                <p><strong>Provider:</strong> <span id="profile-provider"></span></p>
                </div>
            <button id="profile-logout-btn" class="header-auth-btn logout" style="margin-top: 20px;">Logout</button>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>

    <script src="js/main.js"></script>
</body>
</html>
